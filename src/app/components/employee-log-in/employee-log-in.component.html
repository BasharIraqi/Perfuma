<app-navbar></app-navbar>

<ng-template #template>
    <button type="button" class="btn-close close pull-right" aria-label="Close" (click)="modalRef?.hide()">
        <span aria-hidden="true" class="visually-hidden">&times;</span>
    </button>
    <div class="modal-body text-info text-center">
        <h3>{{errorAddEmployeeMessage}}</h3>
    </div>
</ng-template>

<div class="container p-2">
    <div class="row">
        <h1 *ngIf="isHide" class="p-5 text-center text-dark fw-bold fst-italic">Sign In For Employees</h1>
        <div *ngIf="isHide" class="text-center d-flex justify-content-center">
            <alert [hidden]="hide" type="danger" class="m-4">
                <strong class="text-danger fw-bolder">{{errorLogInMessage}}</strong>
            </alert>
            <form #details="ngForm" (ngSubmit)="onLogInSubmit(details)" class="bg-danger col-md-6">
                <input class="m-3" type="email" required placeholder="Email Address" name="email" ngModel maxlength="50"
                    #email="ngModel" (click)="onInputClick()">
                <p></p>
                <input class="m-3" type="password" required placeholder="Password" name="password" ngModel
                    maxlength="50" #password="ngModel" (click)="onInputClick()">
                <p></p>
                <button class="btn btn-dark m-3 text-center">Sign In</button>
            </form>
            <p></p>
        </div>

        <div [hidden]="isNewEmployee" class="text-center bg-light">
            <h2 class="text-secondary fw-bold fst-italic">Fill Your Details</h2>
            <form #details="ngForm" (ngSubmit)="onAddEmployeeSubmit(details)">

                <label for="id">Id</label>
                <p><input type="text" name="id" ngModel required pattern="[0-9]{9}" maxlength="9"></p>

                <label for="firstName">First Name</label>
                <p><input type="text" name="firstName" [(ngModel)]="employee.firstName" required maxlength="30"></p>

                <label for="LastName">Last Name</label>
                <p><input type="text" name="LastName" [(ngModel)]="employee.lastName" required maxlength="30"></p>

                <label for="email">Email</label>
                <p> <input type="email" name="email" [(ngModel)]="employee.email" required maxlength="30"></p>

                <label for="phoneNumber">Phone Number</label>
                <p><input type="tel" name="phoneNumber" [(ngModel)]="employee.phoneNumber" required maxlength="10"></p>

                <hr>

                <h6 class="text-info fw-bolder">Birth Date</h6>
                
                
                <label for="birthDay">Day</label>
                <p><input class="col-1" name="birthDay" type="text" [(ngModel)]="employee.birthDay" required maxlength="2"></p>

                <label for="birthMonth">Month</label>
                <p><input class="col-1" name="birthMonth" type="text" [(ngModel)]="employee.birthMonth" required maxlength="2">
                </p>

                <label for="birthYear">Year</label>
                <p> <input class="col-1" name="birthYear" type="text" [(ngModel)]="employee.birthYear" required maxlength="4"></p>
            
                <hr>

                <h6 class="text-info fw-bolder">Started job Date</h6>

                <label for="startedDay">Day</label>
                <p><input class="col-1" name="startedDay" type="text" [(ngModel)]="employee.startedDay" required maxlength="2"></p>

                <label for="startedMonth">Month</label>
                <p><input class="col-1" name="startedMonth" type="text" [(ngModel)]="employee.startedMonth" required maxlength="2">
                </p>

                <label for="startedYear">Year</label>
                <p><input class="col-1" name="startedYear" type="text" [(ngModel)]="employee.startedYear" required maxlength="4"></p>

                <hr>

                <h6 class="text-info fw-bolder">Bank Account Details</h6>

                <label for="accountNumber">Account Number</label>
                <p><input type="number" name="accountNumber" [(ngModel)]="bankAccount.accountNumber" required pattern="[1-9]{6}"></p>

                <label for="ownerId">Employee Account Id</label>
                <p><input type="number" name="ownerId" [(ngModel)]="bankAccount.ownerId" required pattern="[0-9]{9}"></p>

                <label for="bankAccountFirstName">First Name</label>
                <p><input type="text" name="bankAccountFirstName" [(ngModel)]="bankAccount.firstName" required maxlength="30"></p>

                <label for="bankAccountLastName">Last Name</label>
                <p><input type="text" name="bankAccountLastName" [(ngModel)]="bankAccount.lastName" required maxlength="30"></p>

                <label for="bankName">Bank Company</label>
                <p>
                    <select name="bankName" ngModel required>
                        <option value="-1"></option>
                        <option value="0">Leumi</option>
                        <option value="1">Boalim</option>
                        <option value="2">Discont</option>
                        <option value="3">Masad</option>
                        <option value="4">Mezrahi</option>
                        <option value="5">Yahav</option>
                    </select>
                </p>

                <label for="bankBranchNumber">Branch Number</label>
                <p><input class="col-1" type="number" name="bankBranchNumber" [(ngModel)]="bankAccount.branchNumber" required pattern="[1-9]{1,3}" maxlength="3"></p>
                 
                 <hr>
                    
                 <h6 class="text-info fw-bolder">Address Details</h6>
                 
                 <label  for="country">Country</label>
                 <p><input type="text" name="country" [(ngModel)]="address.country" required maxlength="30"></p>

                 <label  for="city">City</label>
                 <p><input type="text" name="city" [(ngModel)]="address.city" required maxlength="30"></p>

                 <label  for="street">Street</label>
                 <p><input type="text" name="street" [(ngModel)]="address.street" required maxlength="30"></p>

                 <label  for="houseNumber">House Number</label>
                 <p><input type="number" name="houseNumber" [(ngModel)]="address.houseNumber" required pattern="[0-9]{2}"></p>

                 <label for="postalCode">Postal Code</label>
                 <p><input type="number" name="postalCode" [(ngModel)]="address.postalCode" required pattern="[0-9]{7}"></p>

                 <hr>

                <div [hidden]="user.imagePath!=null">
                    <h6 class="text-info fw-bolder">Add Image</h6>
                   <p></p>
                    <app-image-upload (onUploadFinished)="uploadFinished($event)"></app-image-upload>
                </div>

                <p></p>

                <button class="btn btn-primary" (click)="openModal(template)">Submit</button>
            </form>
        </div>
    </div>

</div>
<app-footer></app-footer>