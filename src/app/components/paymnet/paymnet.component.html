<app-navbar></app-navbar>

<ng-template #template>
    <button type="button" class="btn-close close pull-right" aria-label="Close" (click)="modalRef?.hide()">
        <span aria-hidden="true" class="visually-hidden">&times;</span>
    </button>
    <div class="modal-body text-info text-center">
        <h4 *ngIf="!check">your order {{orderNumber}} completed successfully, thank you ğŸ˜Š</h4>
        <h4 *ngIf="check">check your inputs</h4>
    </div>
</ng-template>

<div class="p-5">

</div>

<div class="container p-3 bg-secondary">
    <form class="form-control bg-info text-center" #payment="ngForm" (ngSubmit)="onSubmit(payment)">
        <div class="row">
            <div class="col-sm-3 text-center m-3 p-3">
                <h5 class="text-dark fw-bolder">personal details</h5>
                <p></p>
                <input class="form-control" name="id" type="number" required pattern="[0-9]{9}" placeholder="Id" ngModel
                    #id="ngModel" [(ngModel)]="customer.id">
                <span>
                    <app-check-icon *ngIf="id.valid"></app-check-icon>
                </span>
                <p></p>
                <input class="form-control" name="firstName" type="text" required maxlength="30"
                    placeholder="First Name" ngModel #firstName="ngModel" [(ngModel)]="customer.firstName">
                <app-check-icon *ngIf="firstName.valid"></app-check-icon>
                <p></p>
                <input class="form-control" name="lastName" type="text" required maxlength="30" placeholder="Last Name"
                    ngModel #lastName="ngModel" [(ngModel)]="customer.lastName">
                <app-check-icon *ngIf="lastName.valid"></app-check-icon>
                <p></p>
                <input class="form-control" name="email" type="email" required maxlength="30" placeholder="email"
                    ngModel #email="ngModel" [(ngModel)]="customer.email">
                <app-check-icon *ngIf="email.valid"></app-check-icon>
                <p></p>
                <input class="form-control" name="phone" type="number" required pattern="[0-9]{9}"
                    placeholder="phone Number" ngModel #phone="ngModel" [(ngModel)]="customer.phone">
                <app-check-icon *ngIf="phone.valid"></app-check-icon>
            </div>

            <div class="col-sm-3 text-center m-3 p-3">
                <h5 class="text-dark fw-bolder">address details</h5>
                <p></p>
                <input class="form-control" type="text" name="country" maxlength="20" ngModel required
                    #country="ngModel" [(ngModel)]="address.country" placeholder="country">
                <app-check-icon *ngIf="country.valid"></app-check-icon>
                <p></p>
                <input class="form-control" type="text" maxlength="20" name="city" ngModel required #city="ngModel"
                    [(ngModel)]="address.city" placeholder="city">
                <app-check-icon *ngIf="city.valid"></app-check-icon>
                <p></p>
                <input class="form-control" type="text" maxlength="20" name="street" ngModel required #street="ngModel"
                    [(ngModel)]="address.street" placeholder="street">
                <app-check-icon *ngIf="street.valid"></app-check-icon>
                <p></p>
                <input class="form-control" type="number" pattern="[0-9]{2}" name="houseNumber" ngModel required
                    #houseNumber="ngModel" [(ngModel)]="address.houseNumber" placeholder="house number">
                <app-check-icon *ngIf="houseNumber.valid"></app-check-icon>
                <p></p>
                <input class="form-control" type="number" pattern="[0-9]{5}" name="postalCode" ngModel required
                    #postalCode="ngModel" [(ngModel)]="address.postalCode" placeholder="postal code">
                <app-check-icon *ngIf="postalCode.valid"></app-check-icon>
            </div>
            <div class="col-sm-3 text-center m-3 p-3">
                <h5 class="text-dark fw-bolder">credit card details</h5>
                <p></p>
                <input class="form-control" name="cardNumber" type="number" ngModel pattern="[0-9]{16}"
                    placeholder="Card Number" required #cardNumber="ngModel" [(ngModel)]="creditCard.number">
                <app-check-icon *ngIf="cardNumber.valid"></app-check-icon>
                <p></p>
                <input class="form-control" name="cvv" type="number" ngModel pattern="[0-9]{3}" required
                    placeholder="CVV" #cvv="ngModel" [(ngModel)]="creditCard.cvv">
                <app-check-icon *ngIf="cvv.valid"></app-check-icon>
                <p></p>
                <input class="form-control" name="expiredDate" type="month" required value="2022-10" min="2022-10"
                    #expiredDate="ngModel" ngModel [(ngModel)]="creditCard.expiredDate">
                <app-check-icon *ngIf="expiredDate.valid"></app-check-icon>
                <p></p>
                <input class="form-control" type="number" pattern="[1-9]{1}" name="numberOfPayments"
                    placeholder="number Of Payments" [(ngModel)]="creditCard.numberOfPayments" ngModel
                    #numberOfPayments="ngModel">
                <app-check-icon *ngIf="numberOfPayments.valid && creditCard.numberOfPayments>0"></app-check-icon>
            </div>
            <p></p>
        </div>
        <button class="btn btn-primary m-3 col-md-2" (click)="openModal(template)" type="submit">Puy</button>
    </form>
</div>
<app-footer></app-footer>